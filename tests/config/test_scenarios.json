{
    "environment": {
        "type": "local",
        "config": {
            "max_parallel_tests": 4,
            "max_parallel_suites": 2,
            "max_memory_gb": 4.0,
            "max_cpu_percent": 80,
            "timeout_seconds": 300
        }
    },
    "llm_config": {
        "model": "gpt-4",
        "temperature": 0.2,
        "max_tokens": 4000,
        "max_retries": 3,
        "cache_dir": "tests/cache/llm",
        "performance_thresholds": {
            "analyzer": {
                "max_time_seconds": 30,
                "max_tokens": 2000,
                "max_retries": 2
            },
            "transformer": {
                "max_time_seconds": 45,
                "max_tokens": 3000,
                "max_retries": 2
            },
            "tester": {
                "max_time_seconds": 30,
                "max_tokens": 2000,
                "max_retries": 2
            }
        }
    },
    "scenarios": [
        {
            "name": "customer_enrichment",
            "source": {
                "type": "file",
                "location": "tests/data/source/customers.json",
                "format": "json",
                "sample_size": 1000,
                "options": {
                    "lines": true,
                    "encoding": "utf-8"
                }
            },
            "target": {
                "type": "file",
                "location": "tests/data/target/customer_360",
                "format": "delta",
                "target_schema": {
                    "fields": {
                        "customer_id": {
                            "name": "customer_id",
                            "type": "string",
                            "required": true
                        },
                        "name": {
                            "name": "name",
                            "type": "string",
                            "required": true
                        },
                        "email": {
                            "name": "email",
                            "type": "string",
                            "required": true
                        },
                        "profile": {
                            "name": "profile",
                            "type": "struct",
                            "fields": {
                                "segment": {
                                    "name": "segment",
                                    "type": "string",
                                    "required": true
                                },
                                "status": {
                                    "name": "status",
                                    "type": "string",
                                    "required": true
                                }
                            }
                        }
                    },
                    "primary_keys": ["customer_id"],
                    "dependencies": {
                        "profile.segment": ["total_orders", "total_spent"],
                        "profile.status": ["last_order_date", "days_since_last_order"]
                    }
                },
                "quality_thresholds": {
                    "null_rate": 0.0,
                    "correlation": 0.95,
                    "cardinality_ratio": 0.9
                }
            },
            "performance_thresholds": {
                "total_time_seconds": 180,
                "analyzer_time_seconds": 45,
                "transformer_time_seconds": 60,
                "test_time_seconds": 45,
                "max_memory_mb": 2048,
                "max_cpu_percent": 80
            },
            "tests": [
                {
                    "name": "schema_validation",
                    "type": "schema_validation",
                    "parameters": {
                        "required_fields": [
                            "customer_id",
                            "name",
                            "email",
                            "profile.segment",
                            "profile.status"
                        ]
                    }
                },
                {
                    "name": "data_quality",
                    "type": "data_quality",
                    "preset": "strict",
                    "parameters": {
                        "null_threshold": 0.0,
                        "unique_columns": ["customer_id", "email"]
                    }
                }
            ]
        }
    ],
    "test_data": {
        "generation": {
            "enabled": true,
            "sample_size": 1000,
            "seed": 42,
            "output_dir": "tests/data/generated"
        }
    },
    "reporting": {
        "output_dir": "tests/results",
        "formats": ["json", "html"],
        "include_metrics": true,
        "save_artifacts": true
    }
} 